<!DOCTYPE html>
<html>
<head>
	<title>Nodes</title>
	<script type="text/javascript" src="input.js"></script>
	<script type="text/javascript" src="Component.js"></script>
	<script type="text/javascript" src="node.js"></script>
	<script type="text/javascript" src="Button.js"></script>
	<script type="text/javascript" src="Label.js"></script>
	<script type="text/javascript" src="Textbox.js"></script>
	<script type="text/javascript" src="Checkbox.js"></script>
	<script type="text/javascript" src="Scene.js"></script>
	<script type="text/javascript" src="ui.js"></script>
	<script type="text/javascript" src="Knob.js"></script>
</head>
<body style="margin: 0;">
	<canvas id="canvas"></canvas>
	<button id="button">Download</button>
	<script type="text/javascript">
		var canvas = document.getElementById('canvas');
		canvas.setAttribute('width', window.innerWidth);
		canvas.setAttribute('height', window.innerHeight);
		var ui = new UI(canvas ,{
		});
		var titleLabel = new Label({
			x: 32,
			y: 64,
			text: "Login",
			font: "36px Arial"
		})
		var loginLabel = new Label({
			x: 32,
			y: 128,
			text: "Username: "
		})
		var passwordLabel = new Label({
			x: 32,
			y: 164,
			text: "Password:"
		})
		var loginTextbox = new Textbox({
			x: 120,
			y: 124,
			text: ""
		})
		var passwordTextbox = new Textbox({
			x: 120,
			y: 160,
			text: "",
			isPasswordField: true,
		})
		var rememberMeCheckBox = new Checkbox({
			x: 32,
			y: 200,
			text: "Remember me"
		})
		var loginButton = new Button({
			x: 32,
			y: 260,
			width: 248,
			height: 40,
			color: "#aaaaff",
			pressingColor: "#7777ff",
			text: "Log In"
		}).on('mouseclick',function(b){
			window.location.href = "http://ipmer.net";
		})
		var knob = new Knob({
			x: 500,
			y: 100,
			r: 40,
			color: "#ffaaaa",
			borderColor: "#0000ff",
		}).on('mousedrag', function(k){
			if(k.getValue()>99.9){
				window.location.href = 'http://google.com';
			}
		})
		var node = new Node({
			x: 500,
			y: 500,
			r: 50,
			isDraggable: true
		})
		ui.addScene(new Scene({
			x: 5,
			y: 5,
			width: 600,
			height: 400,
			isDraggable: true,
			color: "#ddffdd",
			borderColor: "#0000ff",
			showCloseButton: true,
		}).addComponents([titleLabel, loginLabel, passwordLabel, loginTextbox, passwordTextbox, rememberMeCheckBox, loginButton, knob, node]));
		let b = document.getElementById('button');
		b.onclick = function(e){
			let obj = {hello: "world"};
			let content = JSON.stringify(obj);
			let uri = "data:text/json;charset=utf-8,"+ encodeURIComponent(content);
			let link = document.createElement('a');
			link.setAttribute('href', uri);
			link.setAttribute('download', 'data.js');
			document.body.appendChild(link);
			link.click();
		}
	</script>
</body>
</html>